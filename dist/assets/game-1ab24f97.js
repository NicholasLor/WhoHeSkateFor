import"./style-fac82e35.js";const A=document.getElementById("random-player"),E=document.getElementById("random-player-photo");E.classList.add("randPlayerImage");const q=document.createElement("div");q.classList.add("player-container");const w=document.createElement("div");w.classList.add("container");const D=document.createElement("div");D.classList.add("parent-div");const L=document.createElement("div");L.classList.add("button-grid");const O=document.createElement("p");O.classList.add("guess");const c=document.createElement("p");c.classList.add("score");const f=document.createElement("p");f.classList.add("guesses-history");const W=document.createElement("div");W.classList.add("results-grid");var z=document.getElementById("text-table-p");const N=[1,2,3,4,5,6,7,8,9,10,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,28,29,30,52,53,54,55];let l=0,r=0;var i="",b=[],C=[],I=[],R=[],u="";c.innerHTML="Score: "+l+"/"+r;var K=new URLSearchParams(window.location.search),Q=K.get("cropPlayerJerseys");Q==="true"||V();function V(){var e=document.getElementById("random-player-photo-container");e.classList.remove("cut");var t=document.getElementById("random-player-photo");t.classList.remove("cut-img")}document.body.appendChild(c);document.body.appendChild(f);document.body.appendChild(O);X();re(L);w.appendChild(L);document.body.appendChild(w);p();_();te();function X(){for(let e=0;e<=N.length-1;e++){const t=document.createElement("button");t.classList.add("grid-button"),t.id=`${N[e]}`,t.innerHTML=`<img src="https://www-league.nhlstatic.com/images/logos/teams-current-primary-light/${N[e]}.svg" id=${N[e]}>`,L.appendChild(t)}}function P(e,t,a,m){var n=document.getElementById("results-table").getElementsByTagName("tbody")[0],s=n.insertRow(),o=s.insertCell(),d=document.createElement("div");d.className="table-cell";var S=document.createElement("p");S=document.createTextNode(A.innerHTML);var g=document.createElement("img");g.src=E.src,g.style.display="block",g.width=30,d.appendChild(g),d.appendChild(S),o.appendChild(d);var x=s.insertCell();x.className="table-cell";var B=document.createElement("div"),U=document.createTextNode(e);B.appendChild(U),x.appendChild(B);var j=s.insertCell(),h=document.createElement("div");h.className="table-cell";var M=document.createElement("p");M=document.createTextNode(m);var y=document.createElement("img");y.src="https://www-league.nhlstatic.com/images/logos/teams-current-primary-light/"+a+".svg",y.style.display="block",y.width=50,h.appendChild(y),h.appendChild(M),j.appendChild(h);var F=s.insertCell(),v=document.createElement("div");v.className="table-cell";var H=document.createElement("p");H=document.createTextNode(t.getteamName());var T=document.createElement("img");T.src=t.getplayerTeamLogoURL(),T.style.display="block",T.width=50,v.appendChild(T),v.appendChild(H),F.appendChild(v)}function J(e,t,a){t.getplayerName().length,b.push(e),C.push(t.getplayerName()),I.push(a),R.push(t.getteamName())}function G(){u+="WhoHeSkateFor - Score: "+l+"/"+r+`

`,u+=`Score | Player | Guess/Actual

`;for(var e=0;e<b.length;e++)u+="  "+b.at(e)+"  | "+C.at(e)+" | "+I.at(e)+"/"+R.at(e)+`
`;z.innerText=u}class Y{constructor(t){this.numTeams=JSON.stringify(Object.keys(t.teams).length)-1,this.randTeamNumber=Math.floor(Math.random()*(this.numTeams-0+1)),this.teamRosterLength=JSON.stringify(t.teams[this.randTeamNumber].roster.roster.length)-1,this.randomteamRosterNumber=Math.floor(Math.random()*(this.teamRosterLength-0+1))+0,this.randomPlayerHTML=JSON.stringify(t.teams[this.randTeamNumber].roster.roster[this.randomteamRosterNumber]),this.playerTeamId=JSON.stringify(t.teams[this.randTeamNumber].id),this.playerId=JSON.stringify(t.teams[this.randTeamNumber].roster.roster[this.randomteamRosterNumber].person.id),this.playerName=JSON.stringify(t.teams[this.randTeamNumber].roster.roster[this.randomteamRosterNumber].person.fullName).replace(/"/g,""),this.teamName=JSON.stringify(t.teams[this.randTeamNumber].abbreviation).replace(/"/g,"")}getplayerTeamId(){return this.playerTeamId}getplayerId(){return this.playerId}getplayerName(){return this.playerName}getplayerPhotoURL(){return"https://assets.nhle.com/mugs/nhl/20222023/"+this.teamName+"/"+this.getplayerId()+".png"}getplayerTeamLogoURL(){return"https://www-league.nhlstatic.com/images/logos/teams-current-primary-light/"+this.playerTeamId+".svg"}getteamName(){return this.teamName}}async function Z(){try{let t=await(await fetch("https://statsapi.web.nhl.com/api/v1/teams/?expand=team.roster")).json(),a=new Y(t);return A.innerHTML=a.getplayerName(),E.src=a.getplayerPhotoURL(),a}catch(e){console.error(e)}}async function p(){i=await Z()}function _(){document.getElementById("play-again").addEventListener("click",t=>{const a=document.getElementById("tbody");a.innerHTML="",b=[],C=[],I=[],R=[],ne();const m=document.getElementById("share");m.innerHTML="Share"})}async function ee(){try{await navigator.clipboard.writeText(u)}catch(e){console.log("Failed to copy: ",e)}}function te(){const e=document.getElementById("share");e.addEventListener("click",t=>{ee(),e.innerHTML="Results Copied!"})}async function ae(e){try{let n=await(await fetch("https://statsapi.web.nhl.com/api/v1/teams/?expand=team.roster")).json();for(var t,a=0;a<n.teams.length;a++)e==n.teams[a].id&&(t=JSON.stringify(n.teams[a].abbreviation).replace(/"/g,""));return t}catch(m){console.error(m)}}function re(e){e.querySelectorAll("button").forEach(a=>{a.addEventListener("click",async m=>{let n=`${m.target.getAttribute("id")}`;var s;s=await ae(n);var o;if(n==i.getplayerTeamId()){if(o=String.fromCodePoint(9989),P(o,i,n,s),J(o,i,s),p(),l++,r++,c.innerHTML="Score: "+l+"/"+r,k(o),r==5){$(".modal").modal("show"),p(),G();var d=document.getElementById("modalResults");d.innerHTML+=l+"/"+r}}else if(o=String.fromCodePoint(10060),P(o,i,n,s),J(o,i,s),p(),r++,c.innerHTML="Score: "+l+"/"+r,k(o),r==5){var d=document.getElementById("modalResults");d.innerHTML+=l+"/"+r,$(".modal").modal("show"),p(),G()}})})}function k(e){f.textContent+=e}function ne(){l=0,r=0,f.textContent="",c.innerHTML="Score: "+l+"/"+r;var e=document.getElementById("modalResults");e.innerHTML="Results: "}
